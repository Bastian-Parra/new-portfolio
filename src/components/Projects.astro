---
import { supabase } from "../lib/supabase";
import ProjectCard from "./ProjectCard.astro";
import SectionHeader from "./SectionHeader.astro";

const { data: projects } = await supabase
  .from('projects')
  .select('*')
  .eq('featured', true)
  .order('order_index', { ascending: true });
---

<section>
  <SectionHeader title="Projects" description="Here are some of the projects I've worked on" />
  <div class="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-6">
    {projects && projects.map((project) => (
      <ProjectCard project={project} />
    ))}
  </div>
</section>
