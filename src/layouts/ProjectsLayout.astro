---
import NavBar from "../components/NavBar.astro";
import Header from "../components/Header.astro";
import { Icon } from "astro-icon/components";
import ContainerLayout from "./ContainerLayout.astro";
import ProjectBox from "../components/ProjectBox.astro";
import ProjectGallery from "../components/ProjectGallery"

// images import

import loginImg from "../assets/login.webp";
import dash1 from "../assets/dash.webp";
import dash2 from "../assets/dash2.webp";

const techUsed = [
  { text: "React", iconName: "brand-react-native" },
  { text: "Chart.js", iconName: "chart-line" },
  { text: "LeafLet Maps", iconName: "map" },
  { text: "CSS3", iconName: "brand-css3" },
  { text: "Node.js", iconName: "brand-nodejs" },
  { text: "Express.js", iconName: "brand-nodejs" },
  { text: "JWT", iconName: "lock" },
  { text: "MySQL", iconName: "database" },
];

const solutions =
  "El desarrollo enfrentó varios desafíos técnicos, comenzando con la necesidad de un sistema multi-rol que permitiera interfaces diferentes para operadores CEMCO y supervisores. Implementé un sistema de autenticación con JWT y rutas protegidas que gestiona permisos a nivel de componente. Finalmente, el despliegue en la infraestructura municipal existente requirió configuración personalizada del servidor Linux y la adaptación a sus políticas de seguridad.";

const galleryImages = [
  { 
    id: 1, 
    src: loginImg.src, // Usar .src para la URL
    alt: "Login page of the emergency management system"
  },
  { 
    id: 2, 
    src: dash1.src,
    alt: "Main dashboard with emergency statistics"
  },
  { 
    id: 3, 
    src: dash2.src,
    alt: "Detailed emergency reports view"
  },
];

---

<NavBar type="side" />
<ContainerLayout>
  <a href="/projects" class="back-btn"
    ><Icon name="arrow-narrow-left" /> Volver</a
  >
  <Header
    title="Sistema de Gestión de Emergencias Municipal"
    subtitle="Plataforma Full-Stack en producción que procesa reportes de incidentes y provee resultados, estadísticas y métricas en tiempo real."
  />

  <ProjectGallery images={galleryImages} client:only="react" />

  <article>
    <ProjectBox
      title="Descripción"
      aria="Descripción del proyecto"
      text="Sistema desarrollado para la Municipalidad de Quintero que optimiza la gestión de emergencias mediante un flujo de trabajo multi-rol. Los operadores CEMCO reciben llamadas y generan reportes, mientras que los supervisores analizan métricas através de dashboards interactivos."
    />
    <ProjectBox
      title="Tecnologias Utilizadas"
      items={techUsed}
      aria="Tecnologias utilizadas en este proyecto"
    />
    <ProjectBox
      title="Desafios y Soluciones"
      text={solutions}
      aria="Desafios y Soluciones que se encontraron y solucionaron a lo largo del proyecto"
    />
    <ProjectBox
      title="Resultados"
      text="El sistema se encuentra en producción (segpublica.muniquintero.cl) con toda la funcionalidad técnica implementada y optimizada. La capacitación de operadores CEMCO se está realizando de manera progresiva para asegurar una adopción efectiva. La infraestructura está completamente configurada y lista para soportar la operación completa de gestión de emergencias."
      aria="Resultados"
    />
  </article>
</ContainerLayout>
